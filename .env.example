# Sleep Tracker Environment Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# Server Configuration
# =============================================================================
PORT=8080
LOG_LEVEL=info  # debug, info, warn, error

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgres://sleepuser:sleeppass@localhost:5432/sleeptracker?sslmode=disable

# PostgreSQL container settings (used by docker-compose)
POSTGRES_USER=sleepuser
POSTGRES_PASSWORD=sleeppass
POSTGRES_DB=sleeptracker

# =============================================================================
# Feature Flags
# =============================================================================
SEED=true  # Set to true to load sample data on startup

# =============================================================================
# OpenAI Configuration (for sleep insights)
# =============================================================================
OPENAI_API_KEY=                           # Required for /sleep/insights endpoint
OPENAI_SLEEP_INSIGHTS_MODEL=gpt-4o-mini   # Optional, defaults to gpt-4o-mini

# =============================================================================
# Langfuse Configuration (optional - leave empty to disable)
# Get keys from Langfuse UI: Settings > API Keys
# =============================================================================
LANGFUSE_BASE_URL=http://localhost:3001   # Langfuse web UI port (from langfuse-docker-compose.yml)
LANGFUSE_PUBLIC_KEY=pk-lf-...             # Required for tracing
LANGFUSE_SECRET_KEY=sk-lf-...             # Required for tracing
LANGFUSE_ENV=development                  # e.g. development, production
LANGFUSE_PROMPT_NAME=                     # Optional: prompt slug to load system prompt from Langfuse
LANGFUSE_PROMPT_LABEL=production          # Label to fetch (defaults to production)
LANGFUSE_PROMPT_SAVE_PATH=./notes/prompts/system_prompt.txt  # Local cache path fallback when Langfuse unavailable